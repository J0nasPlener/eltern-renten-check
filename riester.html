<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Riester-Rechner & Zulagen-Check – Jonas Plener</title>

  <link href="https://fonts.googleapis.com/css2?family=Arimo:wght@400;500&family=Raleway:wght@600;700;800&display=swap" rel="stylesheet" />

  <style>
    :root{
      --primary:#4a787d;
      --accent:#f4be69;
      --text:#111111;
      --muted:#4b5563;
      --border:#e5e7eb;
      --bg:#f4f8f8;
      --wa:#25d366;

      --good:#16a34a;
      --bad:#dc2626;

      --shadow: 0 10px 25px rgba(15,23,42,.06);
      --shadowStrong: 0 18px 45px rgba(15,23,42,.12);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:"Arimo", system-ui, -apple-system, "Segoe UI", sans-serif;
      background: radial-gradient(circle at top, #fef3c7 0, #f4f8f8 35%, #dbeafe 100%);
      color:var(--text);
      line-height:1.6;
    }
    a{color:inherit;text-decoration:none}
    img{max-width:100%;height:auto;display:block}

    .page{
      max-width:1100px;
      margin:0 auto;
      min-height:100vh;
      background:#fff;
      box-shadow:0 12px 35px rgba(15,23,42,.12);
      display:flex;
      flex-direction:column;
      position:relative;
    }

    /* TOPBAR */
    .topbar{
      position:relative;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:1rem;
      padding:.85rem 1.8rem;
      border-bottom:1px solid var(--border);
      background:linear-gradient(to right,#ffffff,#fef3c7);
    }
    .topbar-left{display:flex;align-items:center;gap:.75rem;min-width:0}
    .topbar-portrait img{
      width:54px;height:54px;border-radius:50%;
      object-fit:cover;
      box-shadow:0 4px 10px rgba(15,23,42,.25);
    }
    .topbar-title{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:800;
      letter-spacing:.03em;
      font-size:.95rem;
      text-transform:uppercase;
      color:var(--primary);
    }
    .topbar-tagline{font-size:.8rem;color:var(--muted)}
    .topbar-right{
      font-size:.8rem;color:var(--muted);
      text-align:right;
      padding-right:54px; /* Platz für Burger */
      white-space:nowrap;
    }

    /* BURGER */
    .burger{
      position:absolute;top:10px;right:10px;
      width:46px;height:46px;border-radius:999px;
      border:1px solid rgba(148,163,184,.9);
      background:#fff;
      box-shadow:0 8px 20px rgba(15,23,42,.12);
      display:grid;place-items:center;
      cursor:pointer;z-index:1000;
    }
    .burger:active{transform:translateY(1px)}
    .burger-lines{width:20px;height:14px;position:relative}
    .burger-lines span{
      position:absolute;left:0;right:0;
      height:2px;border-radius:999px;background:var(--primary);
    }
    .burger-lines span:nth-child(1){top:0}
    .burger-lines span:nth-child(2){top:6px}
    .burger-lines span:nth-child(3){top:12px}

    .menu-backdrop{
      position:fixed;inset:0;background:rgba(15,23,42,.45);
      opacity:0;pointer-events:none;transition:opacity .25s ease;z-index:1200;
    }
    .menu-panel{
      position:fixed;top:0;right:0;height:100%;
      width:min(360px,92vw);
      background:#fff;
      box-shadow:-18px 0 40px rgba(15,23,42,.18);
      transform:translateX(105%);
      transition:transform .25s ease;
      z-index:1300;
      display:flex;flex-direction:column;
    }
    .menu-backdrop.open{opacity:1;pointer-events:auto}
    .menu-panel.open{transform:translateX(0)}
    .menu-head{
      padding:1rem 1rem .8rem;
      border-bottom:1px solid var(--border);
      display:flex;align-items:center;justify-content:space-between;gap:.75rem;
      background:linear-gradient(to right,#ffffff,#fef3c7);
    }
    .menu-head .ttl{font-family:Raleway,system-ui,sans-serif;font-weight:800;color:var(--primary)}
    .menu-close{
      width:40px;height:40px;border-radius:999px;
      border:1px solid rgba(148,163,184,.9);
      background:#fff;cursor:pointer;display:grid;place-items:center;
    }
    .menu-body{padding:.6rem 1rem 1rem;overflow:auto}
    .menu-group{
      margin:.9rem 0;border:1px solid rgba(148,163,184,.55);
      border-radius:14px;overflow:hidden;background:linear-gradient(to bottom,#fff,#fbfdff);
    }
    .menu-group button.menu-toggle{
      width:100%;text-align:left;border:0;background:transparent;
      padding:.85rem .95rem;cursor:pointer;
      display:flex;align-items:center;justify-content:space-between;
      font-family:Raleway,system-ui,sans-serif;font-weight:800;color:#111;
    }
    .menu-group button .chev{color:var(--primary);font-weight:900}
    .menu-sub{
      border-top:1px solid rgba(148,163,184,.45);
      display:none;padding:.35rem .5rem .6rem;
    }
    .menu-group.open .menu-sub{display:block}
    .menu-sub a{
      display:block;padding:.55rem .55rem;border-radius:10px;
      color:var(--muted);font-size:.95rem;
    }
    .menu-sub a:hover{background:#f3f6f8;color:#111}
    .menu-sub a strong{color:var(--primary)}
    .menu-foot{
      margin-top:auto;padding:1rem;border-top:1px solid var(--border);
      background:#f9fafb;display:grid;gap:.6rem;
    }
    .menu-foot .btn{
      display:inline-flex;align-items:center;justify-content:center;
      padding:.92rem 1.2rem;border-radius:999px;
      font-weight:900;font-size:.98rem;border:0;cursor:pointer;
      white-space:nowrap;text-align:center;text-decoration:none;
      box-shadow:0 10px 22px rgba(15,23,42,.12);
    }
    .menu-foot .btn-gold{background:var(--accent);color:#1f2933}
    .menu-foot .btn-wa{background:var(--wa);color:#fff}

    /* HERO */
    header.hero{
      padding:2rem 1.4rem 1.9rem;
      border-bottom:1px solid var(--border);
      background: radial-gradient(circle at top left, #fdf4e6 0, #ffffff 40%, #e0f2fe 100%);
    }
    .hero-inner{display:flex;flex-wrap:wrap;gap:1.6rem;align-items:flex-start}
    .hero-text{flex:1 1 360px;min-width:0}
    .hero-label{
      display:inline-flex;align-items:center;gap:.45rem;
      padding:.15rem .7rem;border-radius:999px;
      border:1px solid rgba(148,163,184,.8);
      font-size:.82rem;color:var(--muted);
      background:rgba(255,255,255,.9);
      margin-bottom:.6rem;
    }
    .hero-label .dot{width:6px;height:6px;border-radius:999px;background:var(--accent)}
    .hero h1{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:800;
      font-size:1.9rem;
      margin:0 0 .65rem;
      letter-spacing:.02em;
    }
    .hero-lead{
      margin:0 0 .9rem;
      color:var(--muted);
      max-width:52rem;
      font-size:.98rem;
    }
    .hero-lead strong{font-weight:800;color:var(--primary)}
    .cta-row{display:flex;flex-wrap:wrap;gap:.6rem;margin-top:.75rem}
    .btn{
      display:inline-flex;align-items:center;justify-content:center;
      padding:.88rem 1.15rem;border-radius:999px;
      font-weight:900;font-size:.95rem;border:0;cursor:pointer;
      text-align:center;white-space:nowrap;
      box-shadow:0 10px 22px rgba(15,23,42,.12);
    }
    .btn-outline{background:#fff;border:1px solid rgba(148,163,184,.85);box-shadow:none;color:var(--primary)}
    .btn-gold{background:var(--accent);color:#1f2933}
    .btn-wa{background:var(--wa);color:#fff}
    .btn:hover{filter:brightness(1.02);transform:translateY(-1px)}

    /* MAIN */
    main{
      padding:1.7rem 1.4rem 2.4rem;
      background:linear-gradient(to bottom,#fff 0,#f9fafb 100%);
      flex:1;
    }
    section{margin-bottom:1.7rem}
    h2{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:800;
      font-size:1.45rem;
      color:var(--primary);
      margin:0 0 .4rem;
    }
    .section-sub{
      margin:0 0 1rem;
      color:var(--muted);
      font-size:.92rem;
      max-width:60rem;
    }

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:1rem;
    }

    .card{
      background:linear-gradient(to bottom,#fff,#fbfdff);
      border-radius:18px;
      border:2px solid rgba(74,120,125,.18);
      box-shadow:var(--shadow);
      padding:1rem 1.05rem 1.05rem;
      min-width:0;
      transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
    }
    .card:hover{transform:translateY(-1px);box-shadow:var(--shadowStrong);filter:brightness(1.005)}
    .card-title{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:800;
      color:#111;
      font-size:1.05rem;
      margin:0 0 .25rem;
    }
    .card p{margin:.35rem 0 0;color:var(--muted);font-size:.92rem}
    .card ul{margin:.35rem 0 0;padding-left:1.05rem;color:var(--muted);font-size:.92rem}
    .card li{margin:.25rem 0}

    /* Rechner */
    .calc-wrap{
      border-radius:18px;
      padding:1.1rem 1.05rem 1.2rem;
      background:linear-gradient(to right, rgba(254,243,199,.9), #ffffff 45%, rgba(224,242,254,.9));
      border:1px solid var(--border);
      box-shadow:0 10px 25px rgba(15,23,42,.08);
    }
    .calc-grid{
      display:grid;
      grid-template-columns:minmax(0,1fr) minmax(0,1.15fr);
      gap:1.1rem;
    }
    .field{margin-bottom:.75rem}
    label{display:block;font-size:.85rem;font-weight:900;margin-bottom:.25rem;color:#111}
    input, select{
      width:100%;
      padding:.58rem .62rem;
      border-radius:12px;
      border:1px solid var(--border);
      font-size:.92rem;
      background:#fff;
      outline:none;
    }
    input:focus, select:focus{border-color:rgba(74,120,125,.55);box-shadow:0 0 0 4px rgba(74,120,125,.10)}
    .mini{font-size:.8rem;color:var(--muted);margin-top:.25rem}
    .two-cols{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:.8rem;
    }

    .calc-result{
      background:rgba(255,255,255,.92);
      border-radius:16px;
      padding:.95rem 1rem;
      border:1px solid var(--border);
      color:var(--muted);
      font-size:.92rem;
    }

    .values{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(170px,1fr));
      gap:.6rem;
      margin-top:.75rem;
    }
    .vbox{
      padding:.62rem .72rem;
      border-radius:14px;
      background:#fff;
      border:2px solid var(--border);
      box-shadow:0 8px 18px rgba(15,23,42,.06);
    }
    .vlabel{font-size:.8rem;color:var(--muted);margin-bottom:.1rem}
    .vnum{display:block;font-weight:900;font-size:1.06rem;margin-top:2px;color:#111}
    .vnum.good{color:var(--good)}
    .vnum.bad{color:var(--bad)}
    .vnum.primary{color:var(--primary)}

    /* Aha-Box */
    .kicker-box{
      margin-top:.75rem;
      border-radius:16px;
      border:2px solid rgba(244,190,105,.55);
      background: linear-gradient(to right, rgba(244,190,105,.22), rgba(224,242,254,.35));
      padding:.75rem .85rem;
      box-shadow:0 10px 22px rgba(15,23,42,.06);
    }
    .kicker-title{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:900;
      color:#111827;
      font-size:.95rem;
      margin-bottom:.25rem;
    }
    .kicker-text{color:var(--muted);font-size:.9rem}
    .kicker-text strong{color:#111827;font-weight:900}
    .kicker-text .warn{color:var(--bad);font-weight:900}

    /* neue Grafik: Zulagen-Balken (CSS) */
    .zulagen-chart{
      margin-top:.75rem;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.65);
      background:#fff;
      padding:.75rem .85rem .85rem;
      box-shadow:0 10px 22px rgba(15,23,42,.06);
    }
    .zulagen-chart .ttl{
      font-family:"Raleway",system-ui,sans-serif;
      font-weight:900;
      color:#111;
      font-size:.95rem;
      margin-bottom:.45rem;
    }
    .bar{
      width:100%;
      height:14px;
      border-radius:999px;
      background:#e5e7eb;
      overflow:hidden;
      position:relative;
    }
    .bar > span{
      display:block;height:100%;
      width:0%;
      background:linear-gradient(to right, rgba(74,120,125,.95), rgba(244,190,105,.95));
      border-radius:999px;
      transition:width .35s ease;
    }
    .bar-row{
      display:flex;justify-content:space-between;align-items:baseline;
      gap:.8rem;margin-top:.5rem;color:var(--muted);font-size:.9rem;
    }
    .bar-row strong{color:#111}
    .note{
      margin-top:.55rem;
      font-size:.8rem;
      color:#6b7280;
    }

    .bottom-cta{
      margin-top:1.2rem;
      border-radius:18px;
      border:1px solid var(--border);
      padding:1.1rem 1.1rem 1.2rem;
      background:linear-gradient(to right,#e0f2fe,#fef3c7);
      text-align:center;
      box-shadow:var(--shadow);
    }
    .bottom-cta p{margin:0 0 .8rem;color:var(--muted)}

    footer{
      padding:1rem 1.4rem 1.3rem;
      font-size:.78rem;
      color:#6b7280;
      border-top:1px solid var(--border);
      background:#f9fafb;
    }

    @media (max-width:768px){
      .topbar{padding-inline:1rem}
      .topbar-right{display:none}
      header.hero{padding:1.6rem 1rem 1.5rem}
      main{padding:1.5rem 1rem 2.1rem}
      .hero h1{font-size:1.5rem}
      .hero-lead{font-size:.93rem}
      .calc-grid{grid-template-columns:1fr}
      .two-cols{grid-template-columns:1fr}
      .btn{width:100%}
    }
  </style>
</head>

<body>
  <div class="page">

    <!-- TOPBAR -->
    <div class="topbar">
      <div class="topbar-left">
        <div class="topbar-portrait">
          <img src="jonas-halbkoerper.png" alt="Jonas Plener" />
        </div>
        <div style="min-width:0">
          <div class="topbar-title">Jonas Plener</div>
          <div class="topbar-tagline">
            Agentur für Deutsche Vermögensberatung<br />
            (Region Kinzigtal / Ortenau)
          </div>
        </div>
      </div>

      <div class="topbar-right">
        Eltern, Selbstständige und Angestellte<br />
        im Kinzigtal &amp; der Ortenau
      </div>

      <!-- Burger Button -->
      <button class="burger" id="burgerBtn" aria-label="Menü öffnen">
        <div class="burger-lines" aria-hidden="true">
          <span></span><span></span><span></span>
        </div>
      </button>
    </div>

    <!-- Menü Backdrop + Panel -->
    <div class="menu-backdrop" id="menuBackdrop"></div>
    <aside class="menu-panel" id="menuPanel" aria-label="Navigation">
      <div class="menu-head">
        <div class="ttl">Menü</div>
        <button class="menu-close" id="menuClose" aria-label="Menü schließen">✕</button>
      </div>

      <div class="menu-body">
        <div class="menu-group open">
          <button type="button" class="menu-toggle">
            <span>Startseite</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="leistung.html"><strong>Meine Leistungen</strong></a>
            <a href="index.html">Eltern-Renten-Check</a>
          </div>
        </div>

        <div class="menu-group">
          <button type="button" class="menu-toggle">
            <span>Absicherung &amp; Schutz</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="arbeitskraftabsicherung.html">Berufsunfähigkeit &amp; Arbeitskraft</a>
            <a href="sachversicherungen.html">Sachversicherungen</a>
          </div>
        </div>

        <div class="menu-group">
          <button type="button" class="menu-toggle">
            <span>Vorsorge &amp; Rente</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="riester.html"><strong>Riester</strong></a>
            <a href="ruerup.html">Rürup / Basisrente</a>
            <a href="bav.html">Betriebliche Altersvorsorge</a>
            <a href="risikoleben.html">Risikoleben</a>
          </div>
        </div>

        <div class="menu-group">
          <button type="button" class="menu-toggle">
            <span>Vermögensaufbau &amp; Sparen</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="fonds-sparplaene.html">Investment- &amp; Fondssparpläne</a>
            <a href="einmalanlage.html">Einmalanlage</a>
            <a href="vermoegensstruktur.html">Vermögensstruktur</a>
          </div>
        </div>

        <div class="menu-group">
          <button type="button" class="menu-toggle">
            <span>Familie &amp; Kinder</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="eltern-retter.html">Eltern-Retter &amp; Kindererziehungszeiten</a>
            <a href="kinder-absichern.html">Kinder absichern</a>
            <a href="ausbildung-zukunft.html">Ausbildung &amp; Zukunft</a>
          </div>
        </div>

        <div class="menu-group">
          <button type="button" class="menu-toggle">
            <span>Unternehmer</span><span class="chev">▾</span>
          </button>
          <div class="menu-sub">
            <a href="unternehmer-termin.html">Termin für Unternehmer</a>
          </div>
        </div>
      </div>

      <div class="menu-foot">
        <a class="btn btn-gold" href="https://forms.cloud.microsoft/e/DYguRWAj0N" target="_blank" rel="noopener">
          Gespräch vereinbaren
        </a>
        <a class="btn btn-wa" href="https://wa.me/4917663796605" target="_blank" rel="noopener">
          Kurzfrage per WhatsApp
        </a>
      </div>
    </aside>

    <!-- HERO -->
    <header class="hero">
      <div class="hero-inner">
        <div class="hero-text">
          <div class="hero-label"><span class="dot"></span> Riester · Zulagen verstehen · Mindestbeitrag berechnen</div>
          <h1>Riester in 60 Sekunden: Mindestbeitrag rein, Zulagen raus.</h1>
          <p class="hero-lead">
            Trag <strong>Vorjahresbrutto</strong>, <strong>Kinder</strong> (mit Geburtsjahr) und <strong>Ehe/Partner</strong> ein.
            Du siehst sofort: <strong>Wie viel musst du mindestens einzahlen</strong> – und <strong>wie hoch sind die Zulagen</strong>.
          </p>
          <div class="cta-row">
            <a class="btn btn-gold" href="#rechner">Zum Rechner</a>
            <a class="btn btn-outline" href="#wissen">Wichtiges kurz erklärt</a>
          </div>
        </div>
      </div>
    </header>

    <main>
      <section id="wissen">
        <h2>Riester: was wirklich zählt</h2>
        <p class="section-sub">
          Hier bewusst „klar &amp; einfach“ – ohne Produkt-Details. Die Formel im Rechner ist eine praxisnahe Orientierung.
          Im echten Leben können Sonderfälle (Zulage-Berechtigung, mittelbar/unmittelbar, Wechsel etc.) die Details verändern.
        </p>

        <div class="grid">
          <article class="card">
            <div class="card-title">1) Mindestbeitrag</div>
            <p>Richtwert: <strong>4% vom Vorjahresbrutto</strong> minus Zulagen = das, was du ungefähr selbst leisten musst (gedeckelt).</p>
            <ul>
              <li>Mindestens: <strong>60 € / Jahr</strong></li>
              <li>Maximal förderfähig: <strong>2.100 € / Jahr</strong> (vereinfacht)</li>
            </ul>
          </article>

          <article class="card">
            <div class="card-title">2) Zulagen</div>
            <p>Typisch: <strong>Grundzulage</strong> + <strong>Kinderzulagen</strong>. Kinderzulage hängt u. a. am Geburtsjahr.</p>
            <ul>
              <li>Grundzulage (vereinfacht): <strong>175 € / Jahr</strong></li>
              <li>Kinder: je nach Geburtsjahr unterschiedlich (im Rechner auswählbar)</li>
            </ul>
          </article>

          <article class="card">
            <div class="card-title">3) Wenn du weniger einzahlst</div>
            <p>Dann werden Zulagen oft <strong>anteilig gekürzt</strong>. Genau diesen Effekt zeigen wir dir unten als „Mini-Aha“.</p>
            <ul>
              <li>Prinzip: <strong>Zulage × (Beitrag / Mindestbeitrag)</strong></li>
              <li>Je weiter drunter, desto stärker die Kürzung.</li>
            </ul>
          </article>
        </div>
      </section>

      <section id="rechner">
        <h2>Riester-Rechner: Mindestbeitrag &amp; Zulagen</h2>
        <p class="section-sub">
          So simpel wie möglich: Vorjahresbrutto, Kinder (öffnet Felder für Geburtsjahr), Ehe/Partner ja/nein.
          Optional kannst du auch eintragen, was du wirklich einzahlen willst.
        </p>

        <div class="calc-wrap">
          <div class="calc-grid">
            <!-- INPUTS -->
            <div>
              <div class="field">
                <label for="gross">Vorjahresbrutto (in €)</label>
                <input id="gross" type="number" min="0" step="100" placeholder="z. B. 42000" />
                <div class="mini">Das Vorjahresbrutto ist die gängige Basis für die 4%-Richtgröße.</div>
              </div>

              <div class="two-cols">
                <div class="field">
                  <label for="kids">Anzahl Kinder</label>
                  <input id="kids" type="number" min="0" max="10" step="1" placeholder="z. B. 2" />
                </div>

                <div class="field">
                  <label for="married">Ehe/Partner im Haushalt?</label>
                  <select id="married">
                    <option value="no">Nein</option>
                    <option value="yes">Ja</option>
                  </select>
                  <div class="mini">Nur als Rechen-Input, weil sich die Logik &amp; Mindestbeitrag im Haushalt relevant anfühlen kann.</div>
                </div>
              </div>

              <div id="kidsFields"></div>

              <div class="field">
                <label for="yourPay">Dein tatsächlicher Jahresbeitrag (optional)</label>
                <input id="yourPay" type="number" min="0" step="50" placeholder="leer lassen = Mindestbeitrag" />
                <div class="mini">Wenn du hier etwas einträgst, zeigen wir dir die <strong>voraussichtliche Zulage nach Kürzung</strong>, falls du unter dem Mindestbeitrag liegst.</div>
              </div>

              <div class="cta-row">
                <button class="btn btn-gold" type="button" id="btnCalc">Berechnen</button>
                <button class="btn btn-outline" type="button" id="btnReset">Zurücksetzen</button>
              </div>

              <div class="mini" style="margin-top:.55rem">
                Hinweis: Die Berechnung ist eine Orientierung (vereinfachte Annahmen). Für eine verbindliche Zulagen-/Förderprüfung: kurz gemeinsam abgleichen.
              </div>
            </div>

            <!-- OUTPUT -->
            <div class="calc-result">
              <div style="font-weight:900;color:#111;margin-bottom:.25rem">Ergebnis</div>
              <div class="mini">
                Wir zeigen dir: <strong>Zulagen</strong>, <strong>förderfähiger Mindestbeitrag</strong> und was bei <strong>Unterzahlung</strong> passieren kann.
              </div>

              <div class="values">
                <div class="vbox">
                  <div class="vlabel">Zulagen gesamt (ca. / Jahr)</div>
                  <span class="vnum primary" id="outZul">–</span>
                </div>
                <div class="vbox">
                  <div class="vlabel">4% Richtgröße (ca. / Jahr)</div>
                  <span class="vnum" id="outFour">–</span>
                </div>
                <div class="vbox">
                  <div class="vlabel">Mindestbeitrag (dein Anteil / Jahr)</div>
                  <span class="vnum good" id="outMin">–</span>
                </div>
                <div class="vbox">
                  <div class="vlabel">Dein Beitrag (für Kürzungscheck)</div>
                  <span class="vnum" id="outPay">–</span>
                </div>
              </div>

              <div class="kicker-box" id="kickerBox" style="display:none;">
                <div class="kicker-title">Mini-Aha: Was passiert, wenn du weniger einzahlst?</div>
                <div class="kicker-text" id="kickerText">–</div>
              </div>

              <div class="zulagen-chart" id="chartBox" style="display:none;">
                <div class="ttl">Zulagen-Füllstand (vereinfacht)</div>
                <div class="bar"><span id="barFill"></span></div>
                <div class="bar-row">
                  <span>Zulagen bei deinem Beitrag</span>
                  <strong id="barValue">–</strong>
                </div>
                <div class="note">
                  Balken zeigt: <strong>100%</strong> = volle Zulage. Unter Mindestbeitrag: anteilig weniger.
                </div>
              </div>

              <div style="margin-top:.85rem;display:flex;flex-wrap:wrap;gap:.6rem">
                <a class="btn btn-gold" href="https://forms.cloud.microsoft/e/DYguRWAj0N" target="_blank" rel="noopener">Ergebnis kurz prüfen lassen</a>
                <a class="btn btn-wa" href="https://wa.me/4917663796605" target="_blank" rel="noopener">Kurz per WhatsApp</a>
              </div>
            </div>
          </div>
        </div>

        <div class="bottom-cta" style="margin-top:1.2rem">
          <p>
            Wenn du willst, rechne ich das mit dir einmal „real“ anhand deiner Situation:
            <strong>Zulage-Berechtigung, Kinderzulage-Zuordnung, mittelbar/unmittelbar, sinnvoller Beitrag.</strong>
          </p>
          <div style="display:flex;gap:.6rem;justify-content:center;flex-wrap:wrap">
            <a class="btn btn-gold" href="https://forms.cloud.microsoft/e/DYguRWAj0N" target="_blank" rel="noopener">Gespräch vereinbaren</a>
            <a class="btn btn-wa" href="https://wa.me/4917663796605" target="_blank" rel="noopener">WhatsApp</a>
          </div>
        </div>
      </section>
    </main>

    <footer>
      Diese Seite ersetzt keine individuelle Rechts-, Steuer- oder Sozialversicherungsberatung.
      Alle Angaben ohne Gewähr. Maßgeblich sind die Vertragsbedingungen und die gesetzlichen Regelungen.
    </footer>
  </div>

  <script>
    // ===== Helpers =====
    const $ = (id) => document.getElementById(id);
    const fmt = (n) => new Intl.NumberFormat("de-DE", { maximumFractionDigits: 0 }).format(Math.round(n));

    function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

    // ===== Burger Menü =====
    const burgerBtn = $("burgerBtn");
    const menuPanel = $("menuPanel");
    const menuBackdrop = $("menuBackdrop");
    const menuClose = $("menuClose");

    const openMenu = () => { menuPanel.classList.add("open"); menuBackdrop.classList.add("open"); };
    const closeMenu = () => { menuPanel.classList.remove("open"); menuBackdrop.classList.remove("open"); };

    burgerBtn?.addEventListener("click", openMenu);
    menuClose?.addEventListener("click", closeMenu);
    menuBackdrop?.addEventListener("click", closeMenu);

    document.querySelectorAll(".menu-toggle").forEach(btn => {
      btn.addEventListener("click", () => btn.closest(".menu-group")?.classList.toggle("open"));
    });

    document.addEventListener("keydown", (e) => {
      if(e.key === "Escape"){ closeMenu(); }
    });

    // ===== Riester Rechner Logik (vereinfachte Orientierung) =====
    const grossEl = $("gross");
    const kidsEl = $("kids");
    const marriedEl = $("married");
    const kidsFields = $("kidsFields");
    const yourPayEl = $("yourPay");

    const outZul = $("outZul");
    const outFour = $("outFour");
    const outMin = $("outMin");
    const outPay = $("outPay");

    const kickerBox = $("kickerBox");
    const kickerText = $("kickerText");
    const chartBox = $("chartBox");
    const barFill = $("barFill");
    const barValue = $("barValue");

    const btnCalc = $("btnCalc");
    const btnReset = $("btnReset");

    // Kinder-Zulage-Logik (vereinfacht, nach Geburtsjahr)
    // häufige Faustformel: ab 2008 höhere Kinderzulage (300), davor (185)
    function childAllowanceByYear(y){
      if(!y || isNaN(y)) return 0;
      return (y >= 2008) ? 300 : 185;
    }

    function renderKidYearFields(count){
      kidsFields.innerHTML = "";
      const n = clamp(parseInt(count || "0", 10) || 0, 0, 10);

      if(n === 0) return;

      const wrap = document.createElement("div");
      wrap.className = "card";
      wrap.style.marginTop = ".8rem";

      const ttl = document.createElement("div");
      ttl.className = "card-title";
      ttl.textContent = "Geburtsjahr(e) der Kinder";
      wrap.appendChild(ttl);

      const sub = document.createElement("p");
      sub.textContent = "Trag pro Kind das Geburtsjahr ein – daraus ergibt sich die Kinderzulage (vereinfacht).";
      wrap.appendChild(sub);

      for(let i=1;i<=n;i++){
        const f = document.createElement("div");
        f.className = "field";
        f.style.marginBottom = ".6rem";

        const lab = document.createElement("label");
        lab.setAttribute("for", "kidYear_" + i);
        lab.textContent = "Kind " + i + " – Geburtsjahr";
        f.appendChild(lab);

        const inp = document.createElement("input");
        inp.id = "kidYear_" + i;
        inp.type = "number";
        inp.min = "1900";
        inp.max = String(new Date().getFullYear());
        inp.step = "1";
        inp.placeholder = "z. B. 2016";
        f.appendChild(inp);

        const hint = document.createElement("div");
        hint.className = "mini";
        hint.textContent = "Vereinfacht: ab 2008 höhere Kinderzulage.";
        f.appendChild(hint);

        wrap.appendChild(f);
      }

      kidsFields.appendChild(wrap);
    }

    kidsEl.addEventListener("input", () => renderKidYearFields(kidsEl.value));

    function calc(){
      const gross = parseFloat((grossEl.value || "").replace(",", "."));
      const kids = clamp(parseInt(kidsEl.value || "0", 10) || 0, 0, 10);
      const married = (marriedEl.value === "yes");
      const payRaw = (yourPayEl.value || "").trim();
      const payGiven = payRaw !== "" ? Math.max(0, parseFloat(payRaw.replace(",", ".")) || 0) : null;

      if(!isFinite(gross) || gross < 0){
        outZul.textContent = "Bitte Vorjahresbrutto eintragen.";
        outFour.textContent = "–";
        outMin.textContent = "–";
        outPay.textContent = "–";
        kickerBox.style.display = "none";
        chartBox.style.display = "none";
        return;
      }

      // Zulagen (vereinfacht)
      const zulBase = 175;
      let zulKids = 0;
      for(let i=1;i<=kids;i++){
        const y = parseInt(($("kidYear_" + i)?.value || "").trim(), 10);
        zulKids += childAllowanceByYear(y);
      }
      const zulTotal = zulBase + zulKids;

      // 4% Richtgröße
      const four = gross * 0.04;

      // Förderlogik (sehr vereinfacht):
      // Mindestbeitrag = max(60, min(2100, four) - Zulagen)
      // (in der Praxis sind Details komplexer; hier nur Orientierung)
      const maxCap = 2100;
      const fourCapped = Math.min(maxCap, four);
      let minYou = fourCapped - zulTotal;
      minYou = Math.max(60, minYou);

      // "Ehe/Partner" wird als Hinweis angezeigt; in der Realität entscheidet v.a. Zulageberechtigung.
      // Wir verändern NICHT hart die Formel (sonst wird’s schnell falsch), aber wir zeigen den Hinweis in der Mini-Aha.
      const pay = (payGiven !== null) ? payGiven : minYou;

      // Pro-rata Zulage bei Unterzahlung (vereinfachte Darstellung)
      const ratio = (minYou > 0) ? Math.min(1, pay / minYou) : 1;
      const zulAtPay = zulTotal * ratio;
      const cut = Math.max(0, zulTotal - zulAtPay);

      // Outputs
      outZul.textContent = fmt(zulTotal) + " €";
      outFour.textContent = fmt(fourCapped) + " €";
      outMin.textContent = fmt(minYou) + " €";
      outPay.textContent = fmt(pay) + " €";

      // Mini-Aha Text
      kickerBox.style.display = "block";
      const spouseHint = married
        ? " (Partner/Ehe: <strong>Ja</strong> – kann in echten Fällen die Zulage-Logik beeinflussen)"
        : " (Partner/Ehe: <strong>Nein</strong>)";

      if(pay < minYou){
        kickerText.innerHTML =
          `Wenn du statt <strong>${fmt(minYou)} €</strong> nur <strong>${fmt(pay)} €</strong> einzahlst, ` +
          `werden Zulagen (vereinfacht) anteilig gekürzt: ` +
          `<strong>${fmt(zulTotal)} €</strong> → <strong>${fmt(zulAtPay)} €</strong> ` +
          `(Kürzung: <span class="warn">-${fmt(cut)} €</span>).` +
          `${spouseHint}`;
      } else {
        kickerText.innerHTML =
          `Mit <strong>${fmt(pay)} €</strong> erreichst du (vereinfacht) die volle Zulage: ` +
          `<strong>${fmt(zulTotal)} €</strong>.` +
          `${spouseHint}`;
      }

      // Chart
      chartBox.style.display = "block";
      const pct = Math.round(ratio * 100);
      barFill.style.width = pct + "%";
      barValue.textContent = fmt(zulAtPay) + " € (" + pct + "%)";

      // Quick-Sanity: falls Kinderfelder fehlen
      if(kids > 0){
        let missing = 0;
        for(let i=1;i<=kids;i++){
          const v = ($("kidYear_" + i)?.value || "").trim();
          if(!v) missing++;
        }
        if(missing > 0){
          // kleine Ergänzung im Aha, ohne hart zu blocken
          kickerText.innerHTML += `<br><span class="mini">Hinweis: ${missing} Geburtsjahr(e) fehlen – Kinderzulage könnte abweichen.</span>`;
        }
      }
    }

    function resetAll(){
      grossEl.value = "";
      kidsEl.value = "";
      marriedEl.value = "no";
      yourPayEl.value = "";
      kidsFields.innerHTML = "";
      outZul.textContent = "–";
      outFour.textContent = "–";
      outMin.textContent = "–";
      outPay.textContent = "–";
      kickerBox.style.display = "none";
      chartBox.style.display = "none";
    }

    btnCalc.addEventListener("click", calc);
    btnReset.addEventListener("click", resetAll);

    // Auto-recalc (optional, angenehm)
    [grossEl, marriedEl, yourPayEl].forEach(el => el.addEventListener("input", () => {
      // nur rechnen, wenn wenigstens Vorjahresbrutto drin ist
      if((grossEl.value || "").trim() !== "") calc();
    }));
  </script>
</body>
</html>
